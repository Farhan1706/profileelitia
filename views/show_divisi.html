{{ define "content" }}
<div class="body flex-grow-1">
  <div class="container-lg px-4">
    <div class="row g-4 mb-4">
      <div class="col-sm-6 col-xl-3">
        <div class="card text-white bg-primary">
          <div class="card-body pb-0 d-flex justify-content-between align-items-start">
            <div>
              <div class="fs-4 fw-semibold">18 <span class="fs-6 fw-normal">(-12%
                  <svg class="icon">
                    <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-arrow-bottom"></use>
                  </svg>)</span></div>
              <div>Divisi</div>
            </div>
            <div class="dropdown">
              <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg class="icon">
                  <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-options"></use>
                </svg>
              </button>
              <div class="dropdown-menu dropdown-menu-end"><a class="dropdown-item" href="/#">Action</a><a class="dropdown-item" href="/#">Another action</a><a class="dropdown-item" href="/#">Something else here</a></div>
            </div>
          </div>
          <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
            <canvas class="chart" id="card-chart1" height="70"></canvas>
          </div>
        </div>
      </div>
      <!-- /.col-->
      <div class="col-sm-6 col-xl-3">
        <div class="card text-white bg-info">
          <div class="card-body pb-0 d-flex justify-content-between align-items-start">
            <div>
              <div class="fs-4 fw-semibold">67 <span class="fs-6 fw-normal">(40%
                  <svg class="icon">
                    <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-arrow-top"></use>
                  </svg>)</span></div>
              <div>Anggota</div>
            </div>
            <div class="dropdown">
              <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg class="icon">
                  <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-options"></use>
                </svg>
              </button>
              <div class="dropdown-menu dropdown-menu-end"><a class="dropdown-item" href="/#">Action</a><a class="dropdown-item" href="/#">Another action</a><a class="dropdown-item" href="/#">Something else here</a></div>
            </div>
          </div>
          <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
            <canvas class="chart" id="card-chart2" height="70"></canvas>
          </div>
        </div>
      </div>
      <!-- /.col-->
      <div class="col-sm-6 col-xl-3">
        <div class="card text-white bg-danger">
          <div class="card-body pb-0 d-flex justify-content-between align-items-start">
            <div>
              <div class="fs-4 fw-semibold">44K <span class="fs-6 fw-normal"></div>
              <div>Divisi Anggota Terbanyak</div>
            </div>
            <div class="dropdown">
              <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg class="icon">
                  <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-options"></use>
                </svg>
              </button>
              <div class="dropdown-menu dropdown-menu-end"><a class="dropdown-item" href="/#">Action</a><a class="dropdown-item" href="/#">Another action</a><a class="dropdown-item" href="/#">Something else here</a></div>
            </div>
          </div>
          <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
            <canvas class="chart" id="card-chart3" height="70"></canvas>
          </div>
        </div>
      </div>      
      <!-- /.col-->
      <div class="col-sm-6 col-xl-3">
        <div class="card text-white bg-warning">
          <div class="card-body pb-0 d-flex justify-content-between align-items-start">
            <div>
              <div class="fs-4 fw-semibold">44K <span class="fs-6 fw-normal"></div>
              <div>Divisi Anggota Terbanyak</div>
            </div>
            <div class="dropdown">
              <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg class="icon">
                  <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-options"></use>
                </svg>
              </button>
              <div class="dropdown-menu dropdown-menu-end"><a class="dropdown-item" href="/#">Action</a><a class="dropdown-item" href="/#">Another action</a><a class="dropdown-item" href="/#">Something else here</a></div>
            </div>                        
          </div>
          <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
            <canvas class="chart" id="card-chart4" height="70"></canvas>
          </div>
        </div>
      </div>      
      <!-- row -->
      
      <!-- row -->
      <!-- /.col-->
    </div>
    <!-- card -->
    <div class="row">
      <div class="col-md-12">
        <div class="card mb-4">
          <div class="card-header d-flex justify-content-between align-items-center">
            <span>Daftar Divisi</span>
            <div class="dropdown">
              <button class="btn btn-transparent p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg class="icon">
                  <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-options"></use>
                </svg>
              </button>
              <div class="dropdown-menu dropdown-menu-end">
                <a class="dropdown-item" href="/divisi/tambah">Tambah Divisi</a>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row g-4">
              {{range .Divisions}}
              <div class="col-sm-6 col-lg-4 col-xl-3">
                <div class="card text-white border border-light divisi-card"
                    style="background-image: url('{{.ImgURL}}'); 
                            background-size: 95%; 
                            background-position: center;
                            background-repeat: no-repeat;
                            overflow: hidden;">
                  <div class="card-header bg-transparent border-0 position-relative d-flex justify-content-center align-items-center">
                    <div class="dropdown position-absolute top-0 end-0 m-2" style="z-index: 10;">
                      <button class="btn btn-transparent p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <svg class="icon">
                          <use xlink:href="/assets/vendors/@coreui/icons/svg/free.svg#cil-options"></use>
                        </svg>
                      </button>
                      <div class="dropdown-menu dropdown-menu-end">
                        <a class="dropdown-item" href="#">Lihat Selengkapnya</a>
                        <a class="dropdown-item" href="/divisi/sunting/{{.ID}}">Sunting Divisi</a>
                        <a class="dropdown-item" href="#">Hapus</a>
                      </div>
                    </div>
                  </div>

                  <div class="card-body-hover text-center">
                    <div class="fs-5 fw-semibold">{{.Name}}</div>
                    <div class="text-uppercase text-white small">{{.Description}}</div>
                  </div>
                </div>
              </div>
              {{end}}
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- /.row-->

  </div>
  <!-- container -->
</div>
<style>
  .divisi-card {
    position: relative;
    overflow: hidden;
    height: 250px; 
  }

  .card-body-hover {
    display: none;
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 1rem;
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    transition: display 0.3s;
  }

  .card:hover .card-body-hover {
    display: block;
  }

  
  .card-body {
    position: relative;
    z-index: 1;
    height: 100%;
  }

  .dropdown {
    z-index: 10;
  }

  .chart-wrapper,
  .card-body-hover {
    pointer-events: none; 
  }

  .dropdown-menu {
    pointer-events: auto;
  }

  body:not(.dark-mode) .dropdown button .icon use {
    fill: black; 
  }

  body.dark-mode .dropdown button .icon use {
    fill: white;
  }
</style>

<script>
  document.querySelectorAll('.divisi-card').forEach(card => {
    card.addEventListener('mouseenter', () => {
      const hoverDivisi = card.querySelector('.card-body-hover');
      hoverDivisi.style.display = 'block';
    });

    card.addEventListener('mouseleave', () => {
      const hoverDivisi = card.querySelector('.card-body-hover');
      hoverDivisi.style.display = 'none';
    });
  });
</script>
{{ end }}